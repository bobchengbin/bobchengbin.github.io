---
title: "2013 年我在晋江都做了什么？"
date: 2013-12-31T00:00:00+08:00
draft: false
aliases: [/posts/What-did-i-do-for-my-company-in-2013.html]
description: "今年已经过去了，这一年是我提升最大的一年，有许多事虽然已经过去，但往后想想也挺有意思的，比如咱们的后宫，原来是 CTB 文本论坛，经常接到各位美女编辑的工作流，让我帮忙恢复帖子，后来论坛程序换成了 Discuz! 基于数据库的论坛，结果就是这些美女再也不找我了。"
tags: ["晋江", "工作"]
---

今年已经过去了，这一年是我提升最大的一年，有许多事虽然已经过去，但往后想想也挺有意思的，比如咱们的后宫，原来是 CTB 文本论坛，经常接到各位美女编辑的工作流，让我帮忙恢复帖子，后来论坛程序换成了 Discuz! 基于数据库的论坛，结果就是这些美女再也不找我了。

许多人经常会说“晋江老抽”，晋江突然成了酱油这让技术部很费解，我经常与刘总沟通，对刘总对网站的架构也耳濡目染，那就是任何一个点都不要单点，即使是买的专业软件，因为这样你会死的更惨，这个是有真实案例的。就这一个不要单点，对于文件系统来说，我们研究了 MooseFS，GlusterFS，Ceph 等多种网络文件系统，最终目前我们使用的是 MooseFS，最终期待能将 Ceph 运用到线上。任何一台数据库服务器都去单点，要做到这一点是不容易的。有的数据我们用行记录存储已经满足不了需要了，于是技术部研究针对新的数据，采用新的数据库来提升程序效率，我能做的就是将这些存储点去单点，保证数据的统一、冗余和灾备，让他们用的放心，目前配置的有 MongoDB 复制集与 RedisSentinel 集群。

虽然现在是在维护服务器，但对代码还有颗不死的心，于是结合程序和需求将公司职工 PHP MyAdmin 数据库权限，使它结合咱们的管理后台的用户权限，以及认证信息，实现了用户单点登录，以及对用户行为追踪的效果。公司业务不断的发展壮大，伴随的是大批量的数据统计等程序上线，而这些处理一般是以计划任务的形式出现，在以前的认知里认为写好了这个统计程序就已经无忧了，后来慢慢地，越来越多地意外发生，我们也意识到了机器出错的机率也很大啊！对于千奇百怪的计划任务的监控是我们特别需要的，于是自主开发了一套计划任务监控方案，有了这套方案过后，原来添加监控需要 1 天能完成的，现在可以缩短到 1 个小时。
