<!doctype html><html>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge"><title>使用 Python 绘制多项式函数 - Du, Chengbin's Blog</title><meta name=viewport content="width=device-width,initial-scale=1">
<meta itemprop=name content="使用 Python 绘制多项式函数">
<meta itemprop=description content="简介  高中你就会接触到多项式和多项式函数，本章教程完全依赖多项式，也就是说，我们将会花一节课的时间去了解多项式。下面是一个 4 次多项式的例子：
$$ p(x) = x^4 - 4 \cdot x^2 + 3 \cdot x $$
你会发觉它们跟整数有许多相似之处，本课我们将会定义多种多项式的算术操作，我们的 Polynomial 类也将提供计算多项式的推导和积分的方法，绘制多项式的图像。
多项式非常漂亮，现在最重要的是如何用 Python 类来实现它们，我们要感谢 Drew Shanon，他让我们使用他的精美的图片，将数学视为艺术！
数学知识介绍 我们将只会处理含有一个未知数的多项式，含有一个未知数的多项式的一般形式如下：
$$ a_n \cdot x^n + a_{n-1} \cdot x^{n-1} + &mldr; + a_1 \cdot x + a_0 $$
\( a_0, a_1, &mldr; a_n \) 为常数，\( x \) 为未知数，未知数也就是它没有一个特定的值，可以用任何数都可以用来替换。
这个表达式经常用求和符号来表示：
$$ \sum_{k=0}^{n}a_k \cdot x^k = a_n \cdot x^n + a_{n-1} \cdot x^{n-1} + &mldr; + a_1 \cdot x + a_0 $$"><meta itemprop=datePublished content="2018-11-24T00:00:00+08:00">
<meta itemprop=dateModified content="2018-11-24T00:00:00+08:00">
<meta itemprop=wordCount content="1106">
<meta itemprop=keywords content="Python,Math,翻译,"><meta property="og:title" content="使用 Python 绘制多项式函数">
<meta property="og:description" content="简介  高中你就会接触到多项式和多项式函数，本章教程完全依赖多项式，也就是说，我们将会花一节课的时间去了解多项式。下面是一个 4 次多项式的例子：
$$ p(x) = x^4 - 4 \cdot x^2 + 3 \cdot x $$
你会发觉它们跟整数有许多相似之处，本课我们将会定义多种多项式的算术操作，我们的 Polynomial 类也将提供计算多项式的推导和积分的方法，绘制多项式的图像。
多项式非常漂亮，现在最重要的是如何用 Python 类来实现它们，我们要感谢 Drew Shanon，他让我们使用他的精美的图片，将数学视为艺术！
数学知识介绍 我们将只会处理含有一个未知数的多项式，含有一个未知数的多项式的一般形式如下：
$$ a_n \cdot x^n + a_{n-1} \cdot x^{n-1} + &mldr; + a_1 \cdot x + a_0 $$
\( a_0, a_1, &mldr; a_n \) 为常数，\( x \) 为未知数，未知数也就是它没有一个特定的值，可以用任何数都可以用来替换。
这个表达式经常用求和符号来表示：
$$ \sum_{k=0}^{n}a_k \cdot x^k = a_n \cdot x^n + a_{n-1} \cdot x^{n-1} + &mldr; + a_1 \cdot x + a_0 $$">
<meta property="og:type" content="article">
<meta property="og:url" content="https://dcb9.github.io/posts/2018-11-24/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2018-11-24T00:00:00+08:00">
<meta property="article:modified_time" content="2018-11-24T00:00:00+08:00">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="使用 Python 绘制多项式函数">
<meta name=twitter:description content="简介  高中你就会接触到多项式和多项式函数，本章教程完全依赖多项式，也就是说，我们将会花一节课的时间去了解多项式。下面是一个 4 次多项式的例子：
$$ p(x) = x^4 - 4 \cdot x^2 + 3 \cdot x $$
你会发觉它们跟整数有许多相似之处，本课我们将会定义多种多项式的算术操作，我们的 Polynomial 类也将提供计算多项式的推导和积分的方法，绘制多项式的图像。
多项式非常漂亮，现在最重要的是如何用 Python 类来实现它们，我们要感谢 Drew Shanon，他让我们使用他的精美的图片，将数学视为艺术！
数学知识介绍 我们将只会处理含有一个未知数的多项式，含有一个未知数的多项式的一般形式如下：
$$ a_n \cdot x^n + a_{n-1} \cdot x^{n-1} + &mldr; + a_1 \cdot x + a_0 $$
\( a_0, a_1, &mldr; a_n \) 为常数，\( x \) 为未知数，未知数也就是它没有一个特定的值，可以用任何数都可以用来替换。
这个表达式经常用求和符号来表示：
$$ \sum_{k=0}^{n}a_k \cdot x^k = a_n \cdot x^n + a_{n-1} \cdot x^{n-1} + &mldr; + a_1 \cdot x + a_0 $$">
<link href="https://fonts.googleapis.com/css?family=Playfair+Display:700" rel=stylesheet type=text/css>
<link rel=stylesheet type=text/css media=screen href=https://dcb9.github.io/css/normalize.css>
<link rel=stylesheet type=text/css media=screen href=https://dcb9.github.io/css/main.css>
<link rel=stylesheet type=text/css href=https://dcb9.github.io/css/katex.min.css>
<link id=dark-scheme rel=stylesheet type=text/css href=https://dcb9.github.io/css/dark.css>
<script src=https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js></script>
<script src=https://dcb9.github.io/js/main.js></script><script src=https://dcb9.github.io/js/katex.min.js></script><script src=https://dcb9.github.io/js/auto-render.min.js></script><script src=https://dcb9.github.io/js/custom.js></script>
</head>
<body>
<div class="container wrapper">
<div class=header>
<h1 class=site-title><a href=https://dcb9.github.io/>Du, Chengbin's Blog</a></h1>
<div class=site-description><p>Software engineer</p><nav class="nav social">
<ul class=flat><li><a href=https://github.com/dcb9 title=Github><i data-feather=github></i></a></li><li><a href=https://twitter.com/robertduu title=Twitter><i data-feather=twitter></i></a></li><li><a href=/index.xml title=RSS><i data-feather=rss></i></a></li></ul>
</nav>
</div>
<nav class=nav>
<ul class=flat>
<li>
<a href=/>Home</a>
</li>
<li>
<a href=/posts>All posts</a>
</li>
<li>
<a href=/about>About</a>
</li>
<li>
<a href=/tags>Tags</a>
</li>
</ul>
</nav>
</div>
<div class=post>
<div class=post-header>
<div class=meta>
<div class=date>
<span class=day>24</span>
<span class=rest>Nov 2018</span>
</div>
</div>
<div class=matter>
<h1 class=title>使用 Python 绘制多项式函数</h1>
</div>
</div>
<div class=markdown>
<h2 id=简介>简介</h2>
<p>
<img src=0.jpg alt>
</p>
<p>高中你就会接触到<strong>多项式</strong>和<strong>多项式函数</strong>，本章教程完全依赖多项式，也就是说，我们将会花一节课的时间去了解多项式。下面是一个 4 次多项式的例子：</p>
<p>$$ p(x) = x^4 - 4 \cdot x^2 + 3 \cdot x $$</p>
<p>你会发觉它们跟整数有许多相似之处，本课我们将会定义多种多项式的算术操作，我们的 Polynomial 类也将提供计算多项式的推导和积分的方法，绘制多项式的图像。</p>
<p>多项式非常漂亮，现在最重要的是如何用 Python 类来实现它们，我们要感谢 <a href=http://drewshannon.ca/>Drew Shanon</a>，他让我们使用他的精美的图片，将数学视为艺术！</p>
<h2 id=数学知识介绍>数学知识介绍</h2>
<p>我们将只会处理含有一个未知数的多项式，含有一个未知数的多项式的一般形式如下：</p>
<p>$$ a_n \cdot x^n + a_{n-1} \cdot x^{n-1} + &mldr; + a_1 \cdot x + a_0 $$</p>
<p>\( a_0, a_1, &mldr; a_n \) 为常数，\( x \) 为未知数，未知数也就是它没有一个特定的值，可以用任何数都可以用来替换。</p>
<p>这个表达式经常用求和符号来表示：</p>
<p>$$ \sum_{k=0}^{n}a_k \cdot x^k = a_n \cdot x^n + a_{n-1} \cdot x^{n-1} + &mldr; + a_1 \cdot x + a_0 $$</p>
<p>一个多项式函数，可以用来求多项式的值，一个名为 <code>f</code> 的函数含有一个参数，定义如下：</p>
<p>$$ f(x)= \sum_{k=0}^{n}a_k \cdot x^k $$</p>
<h2 id=多项式函数与-python>多项式函数与 Python</h2>
<p>Python 可以很轻松的实现一个多项式函数，作为一个例子我们定义一个在简介所提到的多项式函数： \( p(x) = x^4 - 4 \cdot x^2 + 3 \cdot x \)，该多项式的 Python 代码如下：</p>
<div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#00f>def</span> p(x):
    <span style=color:#00f>return</span> x**4 - 4*x**2 + 3*x
</code></pre></div><p>我们可以在任何其它函数里面调用这个函数：</p>
<div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#00f>for</span> x <span style=color:#00f>in</span> [-1, 0, 2, 3.4]:
    print(x, p(x))
</code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback># output
-1 -6
0 0
2 6
3.4 97.59359999999998
</code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#00f>import</span> numpy <span style=color:#00f>as</span> np
<span style=color:#00f>import</span> matplotlib.pyplot <span style=color:#00f>as</span> plt

X = np.linspace(-3, 3, 50, endpoint=<span style=color:#00f>True</span>)
F = p(X)

plt.plot(X,F)
plt.show()
</code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback># output
&lt;Figure size 640x480 with 1 Axes&gt;
</code></pre></div><h2 id=polynomial-类>Polynomial 类</h2>
<p>现在我们将给多项式函数定义一个新的类，我们将会基于我们在 Python 教程 decorators 一章的概念构建，引入一个多项式工厂。</p>
<p>多项式是由系数来决定的，这意味着一个多项式类的实例需要一个列表来定义这些系数。</p>
<div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#00f>class</span> <span style=color:#2b91af>Polynomial</span>:

    <span style=color:#00f>def</span> __init__(self, *coefficients):
        <span style=color:#a31515>&#34;&#34;&#34; input: coefficients are in the form a_n, ...a_1, a_0
</span><span style=color:#a31515>        &#34;&#34;&#34;</span>
        <span style=color:green># for reasons of efficiency we save the coefficients in reverse order,</span>
        <span style=color:green># i.e. a_0, a_1, ... a_n</span>
        self.coefficients = coefficients[::-1] <span style=color:green># tuple is also turned into list</span>

    <span style=color:#00f>def</span> __repr__(self):
        <span style=color:#a31515>&#34;&#34;&#34;
</span><span style=color:#a31515>        method to return the canonical string representation
</span><span style=color:#a31515>        of a polynomial.
</span><span style=color:#a31515>
</span><span style=color:#a31515>        &#34;&#34;&#34;</span>
        <span style=color:green># The internal representation is in reverse order,</span>
        <span style=color:green># so we have to reverse the list</span>
        <span style=color:#00f>return</span> <span style=color:#a31515>&#34;Polynomial&#34;</span> + str(self.coefficients[::-1])
</code></pre></div><p>我们可以像这样实例化<strong>前面例子多项式函数</strong> \(\ p(x) = x^4 - 4 \cdot x^2 + 3 \cdot x \) 的多项式：</p>
<div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>p = Polynomial(4, 0, -4, 3,  0)
print(p)
</code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:green># output</span>
Polynomial(4, 0, -4, 3, 0)
</code></pre></div><p>到现在我们已经定义了多项式，但我们需要的是多项式函数，为此我们给 Polynomial 类实例定义方法使其可以被调用：</p>
<div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#00f>class</span> <span style=color:#2b91af>Polynomial</span>:

    <span style=color:#00f>def</span> __init__(self, *coefficients):
        <span style=color:#a31515>&#34;&#34;&#34; input: coefficients are in the form a_n, ...a_1, a_0
</span><span style=color:#a31515>        &#34;&#34;&#34;</span>
        <span style=color:green># for reasons of efficiency we save the coefficients in reverse order,</span>
        <span style=color:green># i.e. a_0, a_1, ... a_n</span>
        self.coefficients = coefficients[::-1] <span style=color:green># tuple is also turned into list</span>

    <span style=color:#00f>def</span> __repr__(self):
        <span style=color:#a31515>&#34;&#34;&#34;
</span><span style=color:#a31515>        method to return the canonical string representation
</span><span style=color:#a31515>        of a polynomial.
</span><span style=color:#a31515>
</span><span style=color:#a31515>        &#34;&#34;&#34;</span>
        <span style=color:green># The internal representation is in reverse order,</span>
        <span style=color:green># so we have to reverse the list</span>
        <span style=color:#00f>return</span> <span style=color:#a31515>&#34;Polynomial&#34;</span> + str(self.coefficients[::-1])

    <span style=color:#00f>def</span> __call__(self, x):
        res = 0
        <span style=color:#00f>for</span> index, coeff <span style=color:#00f>in</span> enumerate(self.coefficients):
            res += coeff * x** index
        <span style=color:#00f>return</span> res
</code></pre></div><p>现在我们可以传入参数来调用实例了，这就是说实例的行为与多项式函数的行为很像。</p>
<div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>p = Polynomial(4, 0, -4, 3, 0)
<span style=color:#00f>for</span> x <span style=color:#00f>in</span> range(-3, 3):
    print(x, p(x))
</code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>-3 279
-2 42
-1 -3
0 0
1 3
2 54
</code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#00f>import</span> matplotlib.pyplot <span style=color:#00f>as</span> plt

X = np.linspace(-3, 3, 50, endpoint=<span style=color:#00f>True</span>)
F = p(X)

plt.plot(X,F)
plt.show()
</code></pre></div><p>
<img src=1.png alt>
</p>
<p>还可以定义多项式的加法和减法，我们需要做的就是对两个多项式的相同指数的系数做加法或减法。</p>
<p>若有以下多项式函数</p>
<p>$$ f(x) = \sum_{k=0}^{n}a_k \cdot x^k $$</p>
<p>和</p>
<p>$$ g(x) = \sum_{k=0}^{n}b_k \cdot x^k $$</p>
<p>加法的定义如下:</p>
<p>$$ (f + g)(x) = \sum_{k=0}^{n}(a_k + b_k) \cdot x^k $$</p>
<p>相应的减法就是</p>
<p>$$ (f - g)(x) = \sum_{k=0}^{n}(a_k - b_k) \cdot x^k $$</p>
<p>在我们添加 <strong>add</strong> 和 <strong>sub</strong> 之前，需要添加一个生成器 <code>zip_longest()</code>，它和 <code>zip()</code> 方法一样，将两个参数打包成一个无组，返回列表长度与最长的传入迭代器一致，不够的将会用 <code>fillchar</code> 来代替。</p>
<div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#00f>def</span> zip_longest(iter1, iter2, fillchar=<span style=color:#00f>None</span>):

    <span style=color:#00f>for</span> i <span style=color:#00f>in</span> range(max(len(iter1), len(iter2))):
        <span style=color:#00f>if</span> i &gt;= len(iter1):
            <span style=color:#00f>yield</span> (fillchar, iter2[i])
        <span style=color:#00f>elif</span> i &gt;= len(iter2):
            <span style=color:#00f>yield</span> (iter1[i], fillchar)
        <span style=color:#00f>else</span>:
            <span style=color:#00f>yield</span> (iter1[i], iter2[i])
        i += 1
p1 = (2,)
p2 = (-1, 4, 5)
<span style=color:#00f>for</span> x <span style=color:#00f>in</span> zip_longest(p1, p2, fillchar=0):
    print(x)
</code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:green># output</span>
(2, -1)
(0, 4)
(0, 5)
</code></pre></div><p>把该生成器作为一个静态方法添加到 Polynomial 类里面，就可以添加 <strong>add</strong> 和 <strong>sub</strong> 方法了</p>
<div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#00f>import</span> numpy <span style=color:#00f>as</span> np
<span style=color:#00f>import</span> matplotlib.pyplot <span style=color:#00f>as</span> plt
<span style=color:#00f>class</span> <span style=color:#2b91af>Polynomial</span>:

    <span style=color:#00f>def</span> __init__(self, *coefficients):
        <span style=color:#a31515>&#34;&#34;&#34; input: coefficients are in the form a_n, ...a_1, a_0
</span><span style=color:#a31515>        &#34;&#34;&#34;</span>
        <span style=color:green># for reasons of efficiency we save the coefficients in reverse order,</span>
        <span style=color:green># i.e. a_0, a_1, ... a_n</span>
        self.coefficients = coefficients[::-1] <span style=color:green># tuple is also turned into list</span>

    <span style=color:#00f>def</span> __repr__(self):
        <span style=color:#a31515>&#34;&#34;&#34;
</span><span style=color:#a31515>        method to return the canonical string representation
</span><span style=color:#a31515>        of a polynomial.
</span><span style=color:#a31515>
</span><span style=color:#a31515>        &#34;&#34;&#34;</span>
        <span style=color:green># The internal representation is in reverse order,</span>
        <span style=color:green># so we have to reverse the list</span>
        <span style=color:#00f>return</span> <span style=color:#a31515>&#34;Polynomial&#34;</span> + str(self.coefficients[::-1])

    <span style=color:#00f>def</span> __call__(self, x):
        res = 0
        <span style=color:#00f>for</span> index, coeff <span style=color:#00f>in</span> enumerate(self.coefficients):
            res += coeff * x** index
        <span style=color:#00f>return</span> res

    <span style=color:#00f>def</span> degree(self):
        <span style=color:#00f>return</span> len(self.coefficients)

    @staticmethod
    <span style=color:#00f>def</span> zip_longest(iter1, iter2, fillchar=<span style=color:#00f>None</span>):
        <span style=color:#00f>for</span> i <span style=color:#00f>in</span> range(max(len(iter1), len(iter2))):
            <span style=color:#00f>if</span> i &gt;= len(iter1):
                <span style=color:#00f>yield</span> (fillchar, iter2[i])
            <span style=color:#00f>elif</span> i &gt;= len(iter2):
                <span style=color:#00f>yield</span> (iter1[i], fillchar)
            <span style=color:#00f>else</span>:
                <span style=color:#00f>yield</span> (iter1[i], iter2[i])
            i += 1

    <span style=color:#00f>def</span> __add__(self, other):
        c1 = self.coefficients
        c2 = other.coefficients
        res = [sum(t) <span style=color:#00f>for</span> t <span style=color:#00f>in</span> Polynomial.zip_longest(c1, c2)]
        <span style=color:#00f>return</span> Polynomial(*res)

    <span style=color:#00f>def</span> __sub__(self, other):
        c1 = self.coefficients
        c2 = other.coefficients

        res = [t1-t2 <span style=color:#00f>for</span> t1, t2 <span style=color:#00f>in</span> Polynomial.zip_longest(c1, c2)]
        <span style=color:#00f>return</span> Polynomial(*res)


p1 = Polynomial(4, 0, -4, 3, 0)
p2 = Polynomial(-0.8, 2.3, 0.5, 1, 0.2)
p_sum = p1 + p2
p_diff = p1 - p2
X = np.linspace(-3, 3, 50, endpoint=<span style=color:#00f>True</span>)
F1 = p1(X)
F2 = p2(X)
F_sum = p_sum(X)
F_diff = p_diff(X)
plt.plot(X, F1, label=<span style=color:#a31515>&#34;F1&#34;</span>)
plt.plot(X, F2, label=<span style=color:#a31515>&#34;F2&#34;</span>)
plt.plot(X, F_sum, label=<span style=color:#a31515>&#34;F_sum&#34;</span>)
plt.plot(X, F_diff, label=<span style=color:#a31515>&#34;F_diff&#34;</span>)
plt.legend()
plt.show()
</code></pre></div><p>
<img src=2.png alt>
</p>
<p>添加求微分到 Polynomial 类非常简单，数学的定义如下：</p>
<p>$$ f'(x) = \sum_{k=0}^{n}k \cdot a_k \cdot x^{k-1} $$</p>
<p>若</p>
<p>$$ f(x) = \sum_{k=0}^{n}a_k \cdot x^k $$</p>
<p>添加一个 <code>derivative</code> 方法就能实现这个功能：</p>
<div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#00f>import</span> numpy <span style=color:#00f>as</span> np
<span style=color:#00f>import</span> matplotlib.pyplot <span style=color:#00f>as</span> plt
<span style=color:#00f>class</span> <span style=color:#2b91af>Polynomial</span>:

    <span style=color:#00f>def</span> __init__(self, *coefficients):
        <span style=color:#a31515>&#34;&#34;&#34; input: coefficients are in the form a_n, ...a_1, a_0
</span><span style=color:#a31515>        &#34;&#34;&#34;</span>
        <span style=color:green># for reasons of efficiency we save the coefficients in reverse order,</span>
        <span style=color:green># i.e. a_0, a_1, ... a_n</span>
        self.coefficients = coefficients[::-1] <span style=color:green># tuple is also turned into list</span>

    <span style=color:#00f>def</span> __repr__(self):
        <span style=color:#a31515>&#34;&#34;&#34;
</span><span style=color:#a31515>        method to return the canonical string representation
</span><span style=color:#a31515>        of a polynomial.
</span><span style=color:#a31515>
</span><span style=color:#a31515>        &#34;&#34;&#34;</span>
        <span style=color:green># The internal representation is in reverse order,</span>
        <span style=color:green># so we have to reverse the list</span>
        <span style=color:#00f>return</span> <span style=color:#a31515>&#34;Polynomial&#34;</span> + str(self.coefficients[::-1])

    <span style=color:#00f>def</span> __call__(self, x):
        res = 0
        <span style=color:#00f>for</span> index, coeff <span style=color:#00f>in</span> enumerate(self.coefficients):
            res += coeff * x** index
        <span style=color:#00f>return</span> res

    <span style=color:#00f>def</span> degree(self):
        <span style=color:#00f>return</span> len(self.coefficients)

    @staticmethod
    <span style=color:#00f>def</span> zip_longest(iter1, iter2, fillchar=<span style=color:#00f>None</span>):
        <span style=color:#00f>for</span> i <span style=color:#00f>in</span> range(max(len(iter1), len(iter2))):
            <span style=color:#00f>if</span> i &gt;= len(iter1):
                <span style=color:#00f>yield</span> (fillchar, iter2[i])
            <span style=color:#00f>elif</span> i &gt;= len(iter2):
                <span style=color:#00f>yield</span> (iter1[i], fillchar)
            <span style=color:#00f>else</span>:
                <span style=color:#00f>yield</span> (iter1[i], iter2[i])
            i += 1

    <span style=color:#00f>def</span> __add__(self, other):
        c1 = self.coefficients
        c2 = other.coefficients
        res = [sum(t) <span style=color:#00f>for</span> t <span style=color:#00f>in</span> Polynomial.zip_longest(c1, c2, 0)]
        <span style=color:#00f>return</span> Polynomial(*res[::-1])

    <span style=color:#00f>def</span> __sub__(self, other):
        c1 = self.coefficients
        c2 = other.coefficients
        res = [t1-t2 <span style=color:#00f>for</span> t1, t2 <span style=color:#00f>in</span> Polynomial.zip_longest(c1, c2, 0)]
        <span style=color:#00f>return</span> Polynomial(*res[::-1])

    <span style=color:#00f>def</span> derivative(self):
        derived_coeffs = []
        exponent = 1
        <span style=color:#00f>for</span> i <span style=color:#00f>in</span> range(1, len(self.coefficients)):
            derived_coeffs.append(self.coefficients[i] * exponent)
            exponent += 1
        <span style=color:#00f>return</span> Polynomial(*derived_coeffs[::-1])

    <span style=color:#00f>def</span> __str__(self):
        res = <span style=color:#a31515>&#34;&#34;</span>
        <span style=color:#00f>for</span> i <span style=color:#00f>in</span> range(len(self.coefficients)-1, -1, -1):
            res +=  str(self.coefficients[i]) + <span style=color:#a31515>&#34;x^&#34;</span> + str(i) + <span style=color:#a31515>&#34; + &#34;</span>
        <span style=color:#00f>if</span> res.endswith(<span style=color:#a31515>&#34; + &#34;</span>):
            res = res[:-3]
        <span style=color:#00f>return</span> res

p = Polynomial(-0.8, 2.3, 0.5, 1, 0.2)
p_der = p.derivative()
X = np.linspace(-2, 3, 50, endpoint=<span style=color:#00f>True</span>)
F = p(X)
F_derivative = p_der(X)
plt.plot(X, F, label=<span style=color:#a31515>&#34;F&#34;</span>)
plt.plot(X, F_derivative, label=<span style=color:#a31515>&#34;F_der&#34;</span>)
plt.legend()
plt.show()
</code></pre></div><p>
<img src=3.png alt>
</p>
<p>再来几组：</p>
<div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>p = Polynomial(1, 1, 1, 1, 1)
p2 = Polynomial(1, 2, 3)
p_der = p.derivative()
print(p)
print(p_der)
print(p2)
p3 = p + p2
print(p3)
</code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:green># output</span>
1x^4 + 1x^3 + 1x^2 + 1x^1 + 1x^0
4x^3 + 3x^2 + 2x^1 + 1x^0
1x^2 + 2x^1 + 3x^0
1x^4 + 1x^3 + 2x^2 + 3x^1 + 4x^0
</code></pre></div><p><a href=https://www.python-course.eu/polynomial_class_in_python.php>原文链接</a></p>
</div>
<div class=tags>
<ul class=flat>
<li><a href=/tags/python>Python</a></li>
<li><a href=/tags/math>Math</a></li>
<li><a href=/tags/%E7%BF%BB%E8%AF%91>翻译</a></li>
</ul>
</div></div>
</div>
<div class="footer wrapper">
<nav class=nav>
<div>2024 © Copyright Du, Chengbin | <a href=https://github.com/knadh/hugo-ink>Ink</a> theme on <a href=https://gohugo.io>Hugo</a></div>
</nav>
</div>
<script>feather.replace()</script>
</body>
</html>